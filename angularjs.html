<!DOCTYPE html>
<html lang="es" ng-app="angulardaw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora AngularJS</title>
    <!-- Incluye los archivos de AngularJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <!-- Incluye los archivos CSS de Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body ng-controller="controllerdaw">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h2 class="card-title text-center">Calculadora AngularJS</h2>
                        <form id="calculadora-form">
                            <div class="form-group">
                                <input type="text" class="form-control text-right mb-3" ng-model="valorActual">
                            </div>
                            <div class="btn-group d-flex justify-content-between">
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('7')">7</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('8')">8</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('9')">9</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('/')">/</button>
                            </div>
                            <div class="btn-group d-flex justify-content-between mt-2">
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('4')">4</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('5')">5</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('6')">6</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('*')">*</button>
                            </div>
                            <div class="btn-group d-flex justify-content-between mt-2">
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('1')">1</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('2')">2</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('3')">3</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('-')">-</button>
                            </div>
                            <div class="btn-group d-flex justify-content-between mt-2">
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('0')">0</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('.')">.</button>
                                <button type="button" class="btn btn-primary" ng-click="calcularButton()">=</button>
                                <button type="button" class="btn btn-secondary" ng-click="manejoClicBoton('+')">+</button>
                            </div>
                            <div class="form-group mt-3">
                                <button type="button" class="btn btn-danger btn-lg btn-block" ng-click="borrarButton()">Borrar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let app = angular.module("angulardaw", []);
        app.controller("controllerdaw", function ($scope) {
            $scope.valorActual = '';

            // Función para manejar los clics en los botones numéricos y operadores
            $scope.manejoClicBoton = function (textoBoton) {
                if (!isNaN(textoBoton) || textoBoton === '.') {
                    $scope.valorActual += textoBoton;
                } else if (textoBoton !== '=') {
                    if ($scope.valorActual !== '') {
                        $scope.valorActual += textoBoton;
                    }
                }
            };

            // Función para manejar el clic en el botón "="
            $scope.calcularButton = function() {
                if ($scope.valorActual !== '') {
                    $scope.valorActual = eval($scope.valorActual);
                }
            }
            
            // Función para manejar el clic en el botón "Borrar"
            $scope.borrarButton = function() {
                $scope.valorActual = '';
            }
        });
    </script>
</body>
</html>